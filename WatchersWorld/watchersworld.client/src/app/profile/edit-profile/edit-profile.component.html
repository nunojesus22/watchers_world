
<div class="container mt-5" *ngIf="(authService.user$ | async) as user">
  <div class="row" *ngIf="user.username === currentUsername">
    <div class="col-12 col-lg-8">
      <div class="card mb-3">
        <input type="file" id="fileInput" accept="image/*" (change)="changeImage($event)" style="display: none;">
        <img src="{{ coverPhoto }}" class="cover-photo" (click)="openFileInput('coverPhoto')">
        <div class="card-body text-center" >
          <input type="file" id="fileInput" accept="image/*" (change)="changeImage($event)" style="display: none;">
          <img src="{{ profilePhoto }}" class="profile-photo" (click)="openFileInput('profilePhoto')">
          <div class="user-details" >
            <div class="user-icons">
              <p> Modo do perfil: </p>
              <button class="lock-button" (click)="toggleLock()">
                <img [src]="isProfileLocked ? profileLockedPhoto : profileUnlockedPhoto" alt="Lock Status">
              </button>
              <button class="change-password-button" (click)="sendEmailChangePassword()">
                Alterar palavra-passe
              </button>
              <button class="delete-account-button">
                Apagar conta
              </button>
            </div>
            <form [formGroup]="profileForm" class="user-details text-left">
              <div class="mb-3">
                <label for="hobby">Descrição:</label>
                <div class="form-check form-check-inline">
                  <input formControlName="hobby" type="text" id="hobby" name="hobby" class="form-control" [readonly]="!hobbyEditable">
                </div>
                <button type="button" class="btn btn-link p-0 editButton" (click)="toggleEdit('hobby')"></button>
              </div>
              <div class="mb-3">
                <label>Género:  </label>
                <div class="form-check form-check-inline">
                  <input formControlName="gender" type="radio" id="male" name="gender" value="M" class="form-check-input" [checked]="profileForm.controls['gender'].value === 'M'">
                  <label class="form-check-label" for="male">Masculino</label>
                </div>
                <div class="form-check form-check-inline">
                  <input formControlName="gender" type="radio" id="female" name="gender" value="F" class="form-check-input" [checked]="profileForm.controls['gender'].value === 'F'">
                  <label class="form-check-label" for="female">Feminino</label>
                </div>
                <button type="button" class="btn btn-link p-0 editButton" (click)="toggleEdit('gender')"></button>
              </div>
              <div class="mb-3">
                <label for="birthdate">Data de nascimento:</label>
                <div class="form-check form-check-inline">
                  <input formControlName="date" type="date" id="birthdate" name="birthdate" class="form-control" [readonly]="!birthdateEditable">
                </div>
                <button type="button" class="btn btn-link p-0 editButton" (click)="toggleEdit('birthdate')"></button>
              </div>
              <div class="text-center" *ngIf="(authService.user$ | async) as user">
                <button class="btn btn-primary" (click)="saveButton(user.username)" [routerLink]="['/profile/', user.username]">Salvar alterações</button>
              </div>
            </form>
            <!--<div class="user-media">
              <div class="favorites-section">
                <div class="favorites-section-header">
                  <div class="favorites-title">
                    <h3>Favoritos:</h3>
                    <span class="favorites-down-arrow" [ngClass]="showFavorites ? 'favorites-down-arrow' : 'favorites-right-arrow'" (click)="toggleFavorites()">&#9660;</span>
                  </div>
                  <button class="filter-favorites-button">Filtrar</button>
                </div>
                <div [ngClass]="showFavorites ? 'favorites-section-content-expanded' : 'favorites-section-content-collapsed'">
                  <p> Favoritos Por Implementar</p>
                </div>
              </div>
              <div class="movies-section">
                <div class="movies-section-header">
                  <div class="movies-title">
                    <h3>Filmes:</h3>
                    <span class="movies-down-arrow" [ngClass]="showMovies ? 'movies-down-arrow' : 'movies-right-arrow'" (click)="toggleMovies()">&#9660;</span>
                  </div>
                  <button class="filter-movies-button">Filtrar</button>
                </div>
                <div [ngClass]="showMovies ? 'movies-section-content-expanded' : 'movies-section-content-collapsed'">
                  <p>Filmes Por Implementar</p>
                </div>
              </div>
              <div class="series-section">
                <div class="series-section-header">
                  <div class="series-title">
                    <h3>Séries:</h3>
                    <span class="series-down-arrow" [ngClass]="showSeries ? 'series-down-arrow' : 'series-right-arrow'" (click)="toggleSeries()">&#9660;</span>
                  </div>
                  <button class="filter-series-button">Filtrar</button>
                </div>
                <div [ngClass]="showSeries ? 'series-section-content-expanded' : 'series-section-content-collapsed'">
                  <p>Series Por Implementar</p>
                </div>
              </div>
              <div class="medals-section">
                <div class="medals-section-header">
                  <div class="medals-title">
                    <h3>Medalhas:</h3>
                    <span class="medals-down-arrow" [ngClass]="showMedals ? 'medals-down-arrow' : 'medals-right-arrow'" (click)="toggleMedals()">&#9660;</span>
                  </div>
                  <button class="filter-medals-button">Filtrar</button>
                </div>
                <div [ngClass]="showMedals ? 'medals-section-content-expanded' : 'medals-section-content-collapsed'">
                  <p>Medalhas Por Implementar</p>
                </div>
              </div>
            </div>-->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

