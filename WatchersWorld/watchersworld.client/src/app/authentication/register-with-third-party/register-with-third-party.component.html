<div class="register-container" *ngIf="provider && access_token && userId">
  <img src="assets/img/Logo.png" alt="Logo Image" class="logo" />
  <div class="register-form-container">
    <form [formGroup]="registerForm" class="registerForm" (ngSubmit)="register()" autocomplete="off">


      <div class="input-with-icon"
           [class.has-error]="submitted && (registerForm.get('username')?.errors || (errorMessages['Username'] && !isFieldModified('username')))">
        <i class="fa fa-user"></i>
        <input formControlName="username" type="text" placeholder="USERNAME"
               [class.is-invalid]="submitted && registerForm.get('username')?.errors" />
      </div>

      <div class="error-container" *ngIf="submitted && (registerForm.get('username')?.errors || errorMessages['Username'])">

        <span class="error-message" *ngIf="registerForm.get('username')?.hasError('required')">
          O nome de utilizador é obrigatório!
        </span>
        <span class="error-message" *ngIf="registerForm.get('username')?.hasError('minlength') || registerForm.get('username')?.hasError('maxlength')">
          O nome de utilizador tem de conter entre 4-20 caracteres!
        </span>
        <span class="error-message" *ngIf="!registerForm.get('username')?.errors && errorMessages['Username'] && !isFieldModified('username')">
          {{ errorMessages['Username'] }}
        </span>
        <div class="error-container" *ngIf="submitted && errorMessages['Email']">
          <span class="error-message">{{ errorMessages['Email'] }}</span>
        </div>


      </div>


      <authentication-button [buttonText]="'REGISTAR'" [buttonType]="'submit'"></authentication-button>
      <div class="divider"></div>

      <span class="register-link">
        Já possui conta?
        <span class="register-separator"></span> <!-- Espaçador -->
        <a routerLink="/account/login" class="login-link">Faça login aqui!</a>
      </span>
    </form>
  </div>
</div>

